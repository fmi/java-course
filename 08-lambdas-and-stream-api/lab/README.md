# Amazon Trends Analyzer :chart_with_upwards_trend: :package:

"–ß–µ—Ä–Ω–∏—è—Ç –ø–µ—Ç—ä–∫" –º–∏–Ω–∞, –Ω–æ —Ä–∞–±–æ—Ç–∞—Ç–∞ –∑–∞ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∏—Ç–µ –Ω–∞ –¥–∞–Ω–Ω–∏ –µ–¥–≤–∞ —Å–µ–≥–∞ –∑–∞–ø–æ—á–≤–∞. Amazon —Å–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–ª–∏ –æ–≥—Ä–æ–º–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—ä—á–∫–∏ –∏ –∏–º–∞—Ç –Ω—É–∂–¥–∞ –æ—Ç —Å–∏—Å—Ç–µ–º–∞, –∫–æ—è—Ç–æ –¥–∞ –∏–∑–≤–ª–µ—á–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–∞–π-–ø—Ä–æ–¥–∞–≤–∞–Ω–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏ –∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ —Ä–∞–∑–ø–ª–∞—â–∞—Ç–µ–ª–Ω–∏—Ç–µ –º–µ—Ç–æ–¥–∏.

–¢–∞–∑–∏ —Å–µ–¥–º–∏—Ü–∞ —â–µ –ø—Ä–∏–ª–æ–∂–∏–º –∑–Ω–∞–Ω–∏—è—Ç–∞ —Å–∏ –∑–∞ —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–µ, –≤—Ö–æ–¥–Ω–æ-–∏–∑—Ö–æ–¥–Ω–∏ –ø–æ—Ç–æ—Ü–∏, –ª–∞–º–±–¥–∞ –∏–∑—Ä–∞–∑–∏ –∏ [Java Stream API-—Ç–æ](https://docs.oracle.com/en/java/javase/25/docs/api//java.base/java/util/stream/package-summary.html), –∑–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ–º **Amazon Trends Analyzer**, –∫–æ–π—Ç–æ —â–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –ø—Ä–æ–¥–∞–∂–±–∏—Ç–µ –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ç–∞. –ê–Ω–∞–ª–∏–∑—ä—Ç —â–µ —Å–µ –±–∞–∑–∏—Ä–∞ –Ω–∞ —Ä–µ–∞–ª–µ–Ω *dataset*, —Å—ä–¥—ä—Ä–∂–∞—â –¥–∞–Ω–Ω–∏ –∑–∞ –ø–æ—Ä—ä—á–∫–∏ –æ—Ç Amazon, –∫–æ–π—Ç–æ –µ –≤–∑–µ—Ç –æ—Ç [kaggle](https://www.kaggle.com/datasets/zahidmughal2343/amazon-sales-2025), –æ–Ω–ª–∞–π–Ω –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ç–∞ –∑–∞ machine learning –∏ data science –Ω–∞ Google.

–í—Å–µ–∫–∏ —Ä–µ–¥ –æ—Ç —Ñ–∞–π–ª–∞ —Å—ä–¥—ä—Ä–∂–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –µ–¥–Ω–∞ –ø–æ—Ä—ä—á–∫–∞, –∫–∞—Ç–æ –ø–æ–ª–µ—Ç–∞—Ç–∞ —Å–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å—ä—Å –∑–∞–ø–µ—Ç–∞—è (CSV —Ñ–æ—Ä–º–∞—Ç):

`Order ID,Date,Product,Category,Price,Quantity,Total Sales,Customer Name,Customer Location,Payment Method,Status`   

## –ó–∞—Ä–µ–∂–¥–∞–Ω–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ

–ü—Ä–µ–¥–∏ –¥–∞ –∑–∞–ø–æ—á–Ω–µ–º —Å—ä—Å —Å—ä—â–∏–Ω—Å–∫–∞—Ç–∞ —á–∞—Å—Ç –Ω–∞ –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞ *dataset*-a, —â–µ –∑–∞—Ä–µ–¥–∏–º –¥–∞–Ω–Ω–∏—Ç–µ –≤ –ø–∞–º–µ—Ç—Ç–∞.

–ï–¥–Ω–∞ –æ—Ç –ø—ä—Ä–≤–∏—Ç–µ —Å—Ç—ä–ø–∫–∏ –≤ –∑–∞–¥–∞—á–∏—Ç–µ –∑–∞ –∞–Ω–∞–ª–∏–∑ –Ω–∞ –¥–∞–Ω–Ω–∏, –≤–∏–Ω–∞–≥–∏ –µ "–∏–∑—á–∏—Å—Ç–≤–∞–Ω–µ/–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞" –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∏ –ø—Ä–µ–≤—Ä—ä—â–∞–Ω–µ—Ç–æ –∏–º –≤ –æ–±–µ–∫—Ç–µ–Ω –º–æ–¥–µ–ª.

–ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ record-a `Order`, –∫–æ–π—Ç–æ –∏–º–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:
`(String id, LocalDate date, String product, Category category, double price, int quantity, double totalSales, String customerName, String customerLocation, PaymentMethod paymentMethod, Status status)` –∏ –∏–º–∞ –ø—É–±–ª–∏—á–µ–Ω —Å—Ç–∞—Ç–∏—á–µ–Ω factory –º–µ—Ç–æ–¥ —Å—ä—Å —Å–∏–≥–Ω–∞—Ç—É—Ä–∞

`public static Order of(String line)`

–ú–µ—Ç–æ–¥—ä—Ç –ø—Ä–∏–µ–º–∞ –Ω–∏–∑, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞—â –µ–¥–∏–Ω —Ä–µ–¥ –æ—Ç dataset-–∞ (–≤ CSV —Ñ–æ—Ä–º–∞—Ç) –∏ –≤—Ä—ä—â–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è `Order` –æ–±–µ–∫—Ç. –í—Å–µ–∫–∏ `Order` —Å–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–∞ –µ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –æ—Ç —Å–≤–æ—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (`id`).

üëâ –ü–æ–¥—Å–∫–∞–∑–∫–∞: –î–∞—Ç–∏—Ç–µ –≤ dataset-a —Å–∞ –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç dd-MM-yy (–Ω–∞–ø—Ä. 14-03-25). –ó–∞ –ø–∞—Ä—Å–≤–∞–Ω–µ—Ç–æ –∏–º —â–µ –≤–∏ –≤–ª–µ–∑–µ –≤ —É–ø–æ—Ç—Ä–µ–±–∞ [`DateTimeFormatter.ofPattern("dd-MM-yy")`](https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/format/DateTimeFormatter.html), –∑–∞–µ–¥–Ω–æ —Å [`LocalDate.parse(...)`](https://docs.oracle.com/en/java/javase/25/docs/api//java.base/java/time/LocalDate.html#parse(java.lang.CharSequence)).


### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∏

–ü—Ä–æ–¥—É–∫—Ç–∏—Ç–µ –≤ –ø–æ—Ä—ä—á–∫–∏—Ç–µ —Å–ø–∞–¥–∞—Ç –∫—ä–º –µ–¥–Ω–∞ –æ—Ç –Ω—è–∫–æ–ª–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –æ–ø–∏—Å–∞–Ω–∏ –æ—Ç —Å–ª–µ–¥–Ω–∏—è enum –≤ –ø–∞–∫–µ—Ç–∞ `bg.sofia.uni.fmi.mjt.order.domain`:

```java
public enum Category {
    ELECTRONICS, CLOTHING, FOOTWEAR, HOME_APPLIANCES, BOOKS
}
```

### –ú–µ—Ç–æ–¥–∏ –∑–∞ –ø–ª–∞—â–∞–Ω–µ

–ù–∞—á–∏–Ω–∏—Ç–µ –Ω–∞ –ø–ª–∞—â–∞–Ω–µ —Å–µ –º–æ–¥–µ–ª–∏—Ä–∞—Ç —á—Ä–µ–∑ —Å–ª–µ–¥–Ω–∏—è enum –≤ –ø–∞–∫–µ—Ç–∞ `bg.sofia.uni.fmi.mjt.order.domain`:

```java
public enum PaymentMethod {
    CREDIT_CARD, DEBIT_CARD, PAYPAL, AMAZON_PAY, GIFT_CARD
}
```

### –°—Ç–∞—Ç—É—Å –Ω–∞ –ø–æ—Ä—ä—á–∫–∞

–¢–µ–∫—É—â–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞ —Å–µ –æ–ø–∏—Å–≤–∞ –æ—Ç —Å–ª–µ–¥–Ω–∏—è enum –≤ –ø–∞–∫–µ—Ç–∞ `bg.sofia.uni.fmi.mjt.order.domain`:

```java
public enum Status {
    COMPLETED, PENDING, CANCELLED
}
```

## OrderLoader

–í –ø–∞–∫–µ—Ç–∞ `bg.sofia.uni.fmi.mjt.order.loader` —Å—ä–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å `OrderLoader`, –∫–æ–π—Ç–æ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ –ª–æ–≥–∏–∫–∞—Ç–∞ –∑–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ. –í–∞—à–∞—Ç–∞ –∑–∞–¥–∞—á–∞ –µ –¥–∞ –¥–æ–≤—ä—Ä—à–∏—Ç–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –Ω–∞ –º–µ—Ç–æ–¥–∞ `load`:

```java
package bg.sofia.uni.fmi.mjt.order.loader;

import bg.sofia.uni.fmi.mjt.order.domain.Order;

import java.io.Reader;
import java.util.List;

public class OrderLoader {

    /**
     * Returns a list of orders read from the source Reader.
     *
     * @param reader the Reader with orders
     * @throws IllegalArgumentException if the reader is null
     */
    public static List<Order> load(Reader reader) {
        throw new UnsupportedOperationException("Please implement this method");
    }
}
```

## Amazon Trends Analyzer

–í –ø–∞–∫–µ—Ç–∞ `bg.sofia.uni.fmi.mjt.order.analyzer` —Å—ä–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å `OrderAnalyzerImpl`, –∫–æ–π—Ç–æ –∏–º–∞ –ø—É–±–ª–∏—á–µ–Ω –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `OrderAnalyzerImpl(List<Order> orders)` –∏ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `OrderAnalyzer`:

```java
package bg.sofia.uni.fmi.mjt.order.analyzer;

import bg.sofia.uni.fmi.mjt.order.domain.Category;
import bg.sofia.uni.fmi.mjt.order.domain.Order;
import bg.sofia.uni.fmi.mjt.order.domain.PaymentMethod;
import bg.sofia.uni.fmi.mjt.order.domain.Status;

import java.time.LocalDate;
import java.util.List;
import java.util.Map;
import java.util.Set;

/**
 * Provides analytical operations over a collection of {@link Order} objects.
 * <p>
 * This interface exposes various utility methods for querying, grouping,
 * and extracting insights from order data.
 */
public interface OrderAnalyzer {

    /**
     * Returns an immutable copy of all orders.
     *
     * @return the list of all orders
     */
    List<Order> allOrders();

    /**
     * Returns an immutable list of all orders placed by the given customer.
     *
     * @param customer the customer name (case-sensitive) to filter by
     * @return a list of orders made by the specified customer,
     * or an empty list if none exist
     * @throws IllegalArgumentException if customer is null or blank
     */
    List<Order> ordersByCustomer(String customer);

    /**
     * Returns the date on which the most orders were placed and their count.
     * In case of a tie, return the earliest of the dates with equal number of orders.
     *
     * @return the date with the highest number of orders and the count of the orders,
     * or null if there are no orders
     */
    Map.Entry<LocalDate, Long> dateWithMostOrders();

    /**
     * Returns the top N most frequently ordered products, where frequency is
     * the number of orders containing the product (not the sum of ordered quantities).
     * If two products have the same number of orders, sort them alphabetically.
     *
     * @param n the number of products to return. If n is 0, returns an empty list.
     *          If n exceeds the number of distinct products, returns all of them.
     * @return a list of product names ordered by frequency
     * @throws IllegalArgumentException if n < 0
     */
    List<String> topNMostOrderedProducts(int n);

    /**
     * Computes the total revenue for each {@link Category} present in the dataset.
     * Revenue is defined as the sum of {@link Order#totalSales()} for all orders
     * in that category.
     *
     * @return a map from category to total revenue
     */
    Map<Category, Double> revenueByCategory();

    /**
     * Identifies customers whose ordering behavior is suspicious.
     * A customer is suspicious if they have more than 3 orders that are both:
     * <ul>
     *   <li>with status {@link Status#CANCELLED}</li>
     *   <li>with total sales value < 100.0</li>
     * </ul>
     *
     * @return a set of suspicious customer names
     */
    Set<String> suspiciousCustomers();

    /**
     * Determines the most frequently used {@link PaymentMethod}
     * for each product category in the dataset. In case the dataset is empty,
     * returns an empty Map.
     * In case of a tie for a category, return the {@link PaymentMethod}
     * whose name comes first alphabetically.
     *
     * @return a map from category to its most frequently used payment method
     */
    Map<Category, PaymentMethod> mostUsedPaymentMethodForCategory();

    /**
     * Determines the customer location that has the most orders.
     * If multiple locations tie, return the one that is alphabetically smallest.
     *
     * @return the location with the most orders, or null if there are no orders
     */
    String locationWithMostOrders();

    /**
     * Groups orders first by {@link Category}, and within each category
     * by {@link Status}, counting how many orders fall into each group.
     * In case the dataset is empty, returns an empty Map.
     *
     * @return a map where each category maps to another map
     * from status to the count of orders with that status
     */
    Map<Category, Map<Status, Long>> groupByCategoryAndStatus();
}
```

–í–∞—à–∞—Ç–∞ –∑–∞–¥–∞—á–∞ –µ –¥–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞—Ç–µ –º–µ—Ç–æ–¥–∏—Ç–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ Java Stream API-—Ç–æ.

üëâ –û–±—ä—Ä–Ω–µ—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á–µ dataset-—ä—Ç —Å—ä–¥—ä—Ä–∂–∞ –∑–∞–≥–ª–∞–≤–µ–Ω —Ä–µ–¥, –∫–æ–π—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–æ–ø—É—Å–Ω–µ—Ç–µ –ø—Ä–∏ –∏–∑—á–∏—Ç–∞–Ω–µ—Ç–æ –º—É.

üëâ –ù–∞–ø–æ–º–Ω—è–Ω–µ: –∫–æ–≥–∞—Ç–æ —Å—Ä–∞–≤–Ω—è–≤–∞—Ç–µ —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—â–∞ –∑–∞–ø–µ—Ç–∞—è, –Ω–µ —Ä–∞–∑—á–∏—Ç–∞–π—Ç–µ –Ω–∞ —Ç–æ—á–Ω–æ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ, –∞ —Ä–∞–±–æ—Ç–µ—Ç–µ —Å —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç (–¥–µ–ª—Ç–∞).

### –ü—Ä–∏–º–µ—Ä–Ω–∞ —É–ø–æ—Ç—Ä–µ–±–∞

–ï—Ç–æ –µ–¥–∏–Ω –ø—Ä–æ—Å—Ç –ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –º–æ–∂–µ –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ Order Analyzer-a:

```java
import bg.sofia.uni.fmi.mjt.order.analyzer.OrderAnalyzerImpl;
import bg.sofia.uni.fmi.mjt.order.loader.OrderLoader;

import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.Reader;

public class Main {
    public static void main(String[] args) throws FileNotFoundException {
        String filePath = "amazon_sales_2025.csv";

        Reader reader = new FileReader(filePath);

        var orders = OrderLoader.load(reader);
        System.out.println(orders.size());

        var analyzer = new OrderAnalyzerImpl(orders);

        System.out.println(analyzer.suspiciousCustomers());
    }
}
```

### –¢–µ—Å—Ç–≤–∞–Ω–µ

–ù–∞–π-–¥–æ–±—Ä–µ –ø—ä—Ä–≤–æ —Ç–µ—Å—Ç–≤–∞–π—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ç–∞ —Å–∏ –ª–æ–∫–∞–ª–Ω–æ —Å –ø—Ä–∏–º–µ—Ä –∫–∞—Ç–æ –≥–æ—Ä–Ω–∏—è. –ü–æ—Å–ª–µ —Å—ä–∑–¥–∞–π—Ç–µ –∏ unit —Ç–µ—Å—Ç–æ–≤–µ.

### –ü–∞–∫–µ—Ç–∏

–°–ø–∞–∑–≤–∞–π—Ç–µ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ –ø–∞–∫–µ—Ç–∏—Ç–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –ø–æ-–≥–æ—Ä–µ –æ–ø–∏—Å–∞–Ω–∏ –∫–ª–∞—Å–æ–≤–µ, —Ç—ä–π –∫–∞—Ç–æ –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π —Ä–µ—à–µ–Ω–∏–µ—Ç–æ –≤–∏ –Ω—è–º–∞ –¥–∞ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ —Ç–µ—Å—Ç–≤–∞–Ω–æ –æ—Ç –≥—Ä–µ–π–¥—ä—Ä–∞.

```java
src
‚îî‚îÄ bg.sofia.uni.fmi.mjt.order
    ‚îú‚îÄ‚îÄ analyzer
    ‚îÇ     ‚îú‚îÄ‚îÄ OrderAnalyzer.java
    ‚îÇ     ‚îú‚îÄ‚îÄ OrderAnalyzerImpl.java
    ‚îÇ     ‚îî‚îÄ‚îÄ (...)
    ‚îú‚îÄ‚îÄ domain
    ‚îÇ     ‚îú‚îÄ‚îÄ Category.java
    ‚îÇ     ‚îú‚îÄ‚îÄ Order.java
    ‚îÇ     ‚îú‚îÄ‚îÄ PaymentMethod.java
    ‚îÇ     ‚îú‚îÄ‚îÄ Status.java
    ‚îÇ     ‚îî‚îÄ‚îÄ (...)
    ‚îú‚îÄ‚îÄ loader
    ‚îÇ     ‚îú‚îÄ‚îÄ OrderLoader.java
    ‚îÇ     ‚îî‚îÄ‚îÄ (...)
    ‚îî‚îÄ‚îÄ (...)
test
‚îî‚îÄ bg.sofia.uni.fmi.mjt.order
    ‚îî‚îÄ‚îÄ (...)
```

### :warning: –ó–∞–±–µ–ª–µ–∂–∫–∏ 
- –í –≥—Ä–µ–π–¥—ä—Ä–∞ –∫–∞—á–µ—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏—Ç–µ src –∏ test –∫–∞—Ç–æ –≥–∏ —Å–µ–ª–µ–∫—Ç–∏—Ä–∞—Ç–µ –∏ –¥–≤–µ—Ç–µ. –î—Ä—É–≥ –≤–∞—Ä–∏–∞–Ω—Ç –µ –¥–∞ –≥–∏ —Å–ª–æ–∂–∏—Ç–µ –≤ –æ–±—â .zip –∞—Ä—Ö–∏–≤ –∏ –¥–∞ –∫–∞—á–∏—Ç–µ –Ω–µ–≥–æ
- –ù–µ –∫–∞—á–≤–∞–π—Ç–µ jar-–∫–∏—Ç–µ –Ω–∞ JUnit –∏ Mockito –±–∏–±–ª–∏–æ—Ç–µ–∫–∏—Ç–µ. –ù–∞ –≥—Ä–µ–π–¥—ä—Ä–∞ –≥–∏ –∏–º–∞, –Ω—è–º–∞ —Å–º–∏—Å—ä–ª —Ä–µ—à–µ–Ω–∏–µ—Ç–æ –≤–∏ –¥–∞ –Ω–∞–±—ä–±–≤–∞ –∏–∑–ª–∏—à–Ω–æ.

–£—Å–ø–µ—Ö!
