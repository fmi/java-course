# Unit Testing and Mocking

–û—Å–≤–µ–Ω –ø–∏—Å–∞–Ω–µ –Ω–∞ code from scratch, –≤ –ø—Ä–∞–∫—Ç–∏–∫–∞—Ç–∞ –º–Ω–æ–≥–æ —á–µ—Å—Ç–æ —Å–µ –Ω–∞–ª–∞–≥–∞ –∏ –¥–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–º–µ, fix-–≤–∞–º–µ –∏–ª–∏ –ø–∏—à–µ–º —Ç–µ—Å—Ç–æ–≤–µ –∑–∞ –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â –∫–æ–¥.

–¶–µ–ª—Ç–∞ –Ω–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ—Ç–æ –¥–Ω–µ—Å –µ, –¥–∞ —Å—ä–∑–¥–∞–¥–µ—Ç–µ –∏ –∏–∑–ø—ä–ª–Ω–∏—Ç–µ JUnit —Ç–µ—Å—Ç–æ–≤–µ —Å–ø—Ä—è–º–æ –Ω–∞–ª–∏—á–Ω–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è.

---

## MJT Olympics  üèÉ‚Äçüèä‚Äçüö¥‚ÄçüèÖ

–î–æ–±—Ä–µ –¥–æ—à–ª–∏ –Ω–∞ MJT –û–ª–∏–º–ø–∏–π—Å–∫–∏—Ç–µ –∏–≥—Ä–∏: –ó–ª–∞—Ç–æ, –°–ª–∞–≤–∞ –∏ –ö–æ–¥!

**–ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –Ω–∞–º–µ—Ä–µ–Ω–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ [resources](./resources).**

–ó–∞ —Å—ä–∂–∞–ª–µ–Ω–∏–µ, –≤ —Ç—Ä–µ—Å–∫–∞–≤–∞—Ç–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–µ–¥–∏ –ò–≥—Ä–∏—Ç–µ, –≤—Ä–µ–º–µ –∑–∞ –Ω–∞–ø–∏—Å–≤–∞–Ω–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ –∑–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ —Ç–∞–∫–∞ –∏ –Ω–µ —Å–µ –Ω–∞–º–µ—Ä–∏, –∏ –≤ —Ä–µ–∑—É–ª—Ç–∞—Ç, –≤ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ —ù —Å–µ –∫—Ä–∏—è—Ç –Ω—è–∫–æ–∏ –±—ä–≥–æ–≤–µ. –©–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –≥–∏ –æ—Ç–∫—Ä–∏–µ—Ç–µ –∏ –æ—Ç—Å—Ç—Ä–∞–Ω–∏—Ç–µ –≤ –ø—Ä–æ—Ü–µ—Å–∞ –Ω–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ. –ó–∞ –¥–∞ –±—ä–¥–µ —Ç–æ–π –µ—Ñ–µ–∫—Ç–∏–≤–µ–Ω, –ø—ä—Ä–≤–æ –Ω–∞–ø–∏—à–µ—Ç–µ —Ç–µ—Å—Ç –∑–∞ –Ω—è–∫–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π, —Å–ª–µ–¥ —Ç–æ–≤–∞ –æ–ø—Ä–∞–≤–µ—Ç–µ –±—ä–≥–∞, –∫–æ–π—Ç–æ —Å—Ç–µ –Ω–∞–º–µ—Ä–∏–ª–∏ —Å –Ω–µ–≥–æ.

## –û—Å–Ω–æ–≤–Ω–∏ –∫–ª–∞—Å–æ–≤–µ –∏ —Ç—è—Ö–Ω–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç

### Competitor

–í—Å–∏—á–∫–∏ —Å—ä—Å—Ç–µ–∑–∞—Ç–µ–ª–∏ –≤ –æ–ª–∏–º–ø–∏–π—Å–∫–∏—Ç–µ –∏–≥—Ä–∏ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `Competitor`. –ò–º–∞ –µ–¥–Ω–∞ –æ—Å–Ω–æ–≤–Ω–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è:

 - `Athlete`
  
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ä—Ç `Competitor` –∏–∑–≥–ª–µ–∂–¥–∞ —Ç–∞–∫–∞:

```java
package bg.sofia.uni.fmi.mjt.olympics.competitor;

import java.util.Collection;

public interface Competitor {

    /**
     * Returns the unique identifier of the competitor.
     */
    String getIdentifier();

    /**
     * Returns the name of the competitor.
     */
    String getName();

    /**
     * Returns the nationality of the competitor.
     */
    String getNationality();

    /**
     * Returns an unmodifiable collection of medals won by the competitor.
     */
    Collection<Medal> getMedals();

    /**
     * Adds a medal to the competitor's collection of medals.
     *
     * @throws IllegalArgumentException if the medal is null.
     */
    void addMedal(Medal medal);

}
```

### Medal

–ü—Ä–∏ —É—á–∞—Å—Ç–∏–µ—Ç–æ —Å–∏ –≤ —Å—ä—Å—Ç–µ–∑–∞–Ω–∏—è, —Å–ø–æ—Ä—Ç–∏—Å—Ç–∏—Ç–µ –º–æ–≥–∞—Ç –¥–∞ —Å–ø–µ—á–µ–ª—è—Ç –Ω—è–∫–æ–ª–∫–æ –≤–∏–¥–∞ –º–µ–¥–∞–ª–∏ —Å—ä—Å —Å—Ç–æ–π–Ω–æ—Å—Ç–∏

- üèÖ GOLD
- ü•à SILVER 
- ü•â BRONZE 

```java
package bg.sofia.uni.fmi.mjt.olympics.competitor;

public enum Medal {
    GOLD, SILVER, BRONZE;
}
```

### Competition

–°—ä—Å—Ç–µ–∑–∞–Ω–∏–µ –≤ –û–ª–∏–º–ø–∏–π—Å–∫–∏—Ç–µ –∏–≥—Ä–∏ —â–µ –±—ä–¥–µ –æ–ø–∏—Å–≤–∞–Ω–æ —á—Ä–µ–∑ —Å–ª–µ–¥–Ω–∏—è record: 

```java
package bg.sofia.uni.fmi.mjt.olympics.competition;

import bg.sofia.uni.fmi.mjt.olympics.competitor.Competitor;

import java.util.Collections;
import java.util.Objects;
import java.util.Set;

/**
 * @throws IllegalArgumentException when the competition name is null or blank
 * @throws IllegalArgumentException when the competition discipline is null or blank
 * @throws IllegalArgumentException when the competition's competitors is null or empty
 */
public record Competition(String name, String discipline, Set<Competitor> competitors) { // ... }
```

### Olympics

–û—Å–Ω–æ–≤–Ω–∞—Ç–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ —Å–µ —Å—ä–¥—ä—Ä–∂–∞ –≤ –∫–ª–∞—Å–∞ `MJTOlympics`, –∫–æ–π—Ç–æ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ —Å–ª–µ–¥–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```java
package bg.sofia.uni.fmi.mjt.olympics;

import bg.sofia.uni.fmi.mjt.olympics.competition.Competition;
import bg.sofia.uni.fmi.mjt.olympics.competitor.Competitor;
import bg.sofia.uni.fmi.mjt.olympics.competitor.Medal;

import java.util.EnumMap;
import java.util.Map;
import java.util.Set;
import java.util.TreeSet;

public interface Olympics {

    /**
     * The method updates the competitors' medal statistics based on the competition result.
     *
     * @param competition the competition to update the statistics with
     * @throws IllegalArgumentException if the competition is null.
     * @throws IllegalArgumentException if a competitor is not registered in the Olympics.
     */
    void updateMedalStatistics(Competition competition);

    /**
     * Returns the nations, sorted in descending order based on the total medal count.
     * If two nations have an equal number of medals, they are sorted alphabetically.
     */
    TreeSet<String> getNationsRankList();

    /**
     * Returns the total number of medals, won by competitors from the specified nationality.
     *
     * @param nationality the nationality of the competitors
     * @return the total number of medals
     * @throws IllegalArgumentException when nationality is null
     * @throws IllegalArgumentException when nationality is not registered in the olympics
     */
    int getTotalMedals(String nationality);

    /**
     * Returns a map of nations and their respective medal amount, won from each competition.
     *
     * @return the nations' medal table
     */
    Map<String, EnumMap<Medal, Integer>> getNationsMedalTable();

    /**
     * Returns the set of competitors registered for the Olympics.
     *
     * @return the set of registered competitors
     */
    Set<Competitor> getRegisteredCompetitors();

}
```

## –ü–∞–∫–µ—Ç–∏

–°–ø–∞–∑–≤–∞–π—Ç–µ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ –ø–∞–∫–µ—Ç–∏—Ç–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –ø–æ-–≥–æ—Ä–µ –æ–ø–∏—Å–∞–Ω–∏ –∫–ª–∞—Å–æ–≤–µ, —Ç—ä–π –∫–∞—Ç–æ –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π —Ä–µ—à–µ–Ω–∏–µ—Ç–æ –≤–∏ –Ω—è–º–∞ –¥–∞ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ —Ç–µ—Å—Ç–≤–∞–Ω–æ –æ—Ç –≥—Ä–µ–π–¥—ä—Ä–∞.

```
src
‚îî‚îÄ‚îÄ bg.sofia.uni.fmi.mjt.olympics
     ‚îú‚îÄ‚îÄ comparator
     ‚îÇ     ‚îú‚îÄ‚îÄ NationMedalComparator.java
     ‚îÇ     ‚îî‚îÄ‚îÄ (...)     
     ‚îú‚îÄ‚îÄ competition
     ‚îÇ     ‚îú‚îÄ‚îÄ Competition.java
     ‚îÇ     ‚îú‚îÄ‚îÄ CompetitionResultFetcher.java
     ‚îÇ     ‚îî‚îÄ‚îÄ (...)     
     ‚îú‚îÄ‚îÄ competitor
     ‚îÇ     ‚îú‚îÄ‚îÄ Competitor.java
     ‚îÇ     ‚îú‚îÄ‚îÄ Medal.java
     ‚îÇ     ‚îú‚îÄ‚îÄ Athlete.java
     ‚îÇ     ‚îî‚îÄ‚îÄ (...)
     ‚îú‚îÄ‚îÄ MJTOlympics.java
     ‚îú‚îÄ‚îÄ Olympics.java
     ‚îî‚îÄ‚îÄ (...)     
test
‚îî‚îÄ‚îÄ bg.sofia.uni.fmi.mjt.olympics
     ‚îî‚îÄ‚îÄ (...)
```

## –ó–∞–±–µ–ª–µ–∂–∫–∏

- –í –≥—Ä–µ–π–¥—ä—Ä–∞ –∫–∞—á–µ—Ç–µ –æ–±—â .zip –∞—Ä—Ö–∏–≤ –Ω–∞ –¥–≤–µ—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ src –∏ test.
- –ù–µ –≤–∫–ª—é—á–≤–∞–π—Ç–µ –≤ –∞—Ä—Ö–∏–≤–∞ jar-–∫–∏—Ç–µ –Ω–∞ JUnit –∏ Mockito –±–∏–±–ª–∏–æ—Ç–µ–∫–∏—Ç–µ. –ù–∞ –≥—Ä–µ–π–¥—ä—Ä–∞ –≥–∏ –∏–º–∞, –Ω—è–º–∞ —Å–º–∏—Å—ä–ª –∞—Ä—Ö–∏–≤—ä—Ç —Å —Ä–µ—à–µ–Ω–∏–µ—Ç–æ –≤–∏ –¥–∞ –Ω–∞–±—ä–±–≤–∞ –∏–∑–ª–∏—à–Ω–æ.

–£—Å–ø–µ—Ö –∏ –Ω–µ —Å–µ –ø—Ä–∏—Ç–µ—Å–Ω—è–≤–∞–π—Ç–µ –¥–∞ –∑–∞–¥–∞–≤–∞—Ç–µ –≤—ä–ø—Ä–æ—Å–∏! ‚≠ê
